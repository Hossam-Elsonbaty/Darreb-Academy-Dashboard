
<div class="p-6 space-y-6">
  <!-- TOP CARDS -->
  <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
    <!-- Users -->
    <div class="bg-white p-5 rounded-xl shadow-sm border border-gray-100">
      <p class="text-gray-600">Total Users</p>
      <h2 class="text-2xl font-bold text-blue-500">
        {{ analytics?.totalUsers }}
      </h2>
    </div>
    <!-- Purchased Courses -->
    <div class="bg-white p-5 rounded-xl shadow-sm border border-gray-100">
      <p class="text-gray-600">Purchased Courses</p>
      <h2 class="text-2xl font-bold text-green-500">
        {{ analytics?.totalPurchasedCourses }}
      </h2>
    </div>
    <!-- Income -->
    <div class="bg-white p-5 rounded-xl shadow-sm border border-gray-100">
      <p class="text-gray-600">Total Income</p>
      <h2 class="text-2xl font-bold text-indigo-500">
        ${{ analytics?.totalIncome }}
      </h2>
    </div>
    <!-- Total Courses -->
    <div class="bg-white p-5 rounded-xl shadow-sm border border-gray-100">
      <p class="text-gray-600">Total Courses</p>
      <h2 class="text-2xl font-bold text-orange-500">
        {{ analytics?.totalCourses }}
      </h2>
    </div>
  </div>

  <!-- CHARTS -->
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
    <!-- Purchases Line Chart -->
    <div class="bg-white p-5 rounded-xl shadow-sm border border-gray-100">
      <h3 class="font-semibold mb-4">Purchases Overview</h3>
      @if (!analytics || analytics.purchasesByMonth.length === 0) {
        <p class="text-gray-400 text-sm">Loading chart...</p>
      } @else {
        <div style="height: 260px;">
          <canvas id="purchasesChart"></canvas>
        </div>
      }
    </div>

    <!-- Donut Chart -->
    <div class="bg-white p-5 rounded-xl shadow-sm border border-gray-100">
      <h3 class="font-semibold mb-4">Purchases by Category</h3>
      @if (!analytics || analytics.purchasesByCategory.length === 0) {
        <p class="text-gray-400 text-sm">Loading chart...</p>
      } @else {
        <div style="height: 260px;">
          <canvas id="categoryChart"></canvas>
        </div>
      }
    </div>
  </div>

  <!-- Recent Purchases -->
  <div class="bg-white p-5 rounded-xl shadow-sm border border-gray-100">
    <h3 class="font-semibold mb-4">Recent Purchases</h3>
    <div class="overflow-x-auto">
      <table class="w-full">
        <thead>
          <tr class="text-left text-gray-600 border-b border-[#eee]">
            <th class="pb-3">User</th>
            <th class="pb-3">Course</th>
            <th class="pb-3">Price</th>
            <th class="pb-3">Date</th>
          </tr>
        </thead>
        <tbody>
          @if (analytics?.recentPurchases) {
            @for (item of analytics.recentPurchases; track item.id) {
              <tr class=" hover:bg-gray-50">
                <td class="py-3">{{ item.user }}</td>
                <td class="py-3">{{ item.course }}</td>
                <td class="py-3 font-semibold text-green-600">${{ item.price }}</td>
                <td class="py-3">{{ item.date }}</td>
              </tr>
            }
          } @else {
            <tr>
              <td colspan="4" class="py-3 text-gray-400 text-center">No recent purchases</td>
            </tr>
          }
        </tbody>
      </table>
    </div>
  </div>
</div>
